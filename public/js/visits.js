!function(){const r=window,a=r.location,n=r.navigator,t=r.document,i=(e,t)=>{r._phantom||r.__nightmare||n.webdriver||r.Cypress||("localhost"===a.hostname||a.hostname.includes(".test")?console.warn("Ignoring Event: localhost or .test"):fetch(`https://metricswave.com/webhooks/${e}?`+new URLSearchParams(t).toString()))},e=(r.metricswave=i,()=>{var e=localStorage.getItem("metricswave:referrer")||new URLSearchParams(r.location.search).get("utm_source")||document.referrer;i(t.currentScript.getAttribute("event-uuid"),{f:"script",path:a.pathname,domain:a.hostname,language:n.language,userAgent:n.userAgent,platform:n.platform,referrer:e})});let o,s=r.history;s.pushState&&(o=s.pushState,s.pushState=function(){o.apply(this,arguments),e()},r.addEventListener("popstate",e)),"prerender"===t.visibilityState?t.addEventListener("visibilitychange",function(){n||"visible"!==t.visibilityState||e()}):e()}();