!function(){const a=window,r=a.location,s=a.navigator,t=a.document,n=t.currentScript.getAttribute("event-uuid");let i=localStorage.getItem("mw:dn");i||(i=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^16*Math.random()>>e/4).toString(16)),localStorage.setItem("mw:dn",i));const m=(e,t)=>{a._phantom||a.__nightmare||s.webdriver||a.Cypress||("localhost"===r.hostname||r.hostname.includes(".test")?console.warn("Ignoring Event: localhost or .test",{uuid:e,params:t}):fetch(`https://metricswave.com/webhooks/${e}?`+new URLSearchParams(t).toString()))},e=(a.metricswave=m,()=>{var e=new URL(r);m(n,{f:"script",visit:sessionStorage.getItem("mw")?0:1,deviceName:i,path:r.pathname,domain:r.hostname,language:s.language,userAgent:s.userAgent,platform:s.platform,referrer:t.referrer,utm_source:e.searchParams.get("utm_source"),utm_medium:e.searchParams.get("utm_medium"),utm_campaign:e.searchParams.get("utm_campaign"),utm_term:e.searchParams.get("utm_term"),utm_content:e.searchParams.get("utm_content")}),sessionStorage.setItem("mw","1")});let c,o=a.history;o.pushState&&(c=o.pushState,o.pushState=function(){c.apply(this,arguments),e()},a.addEventListener("popstate",e)),"prerender"===t.visibilityState?t.addEventListener("visibilitychange",function(){s||"visible"!==t.visibilityState||e()}):e(),t.querySelectorAll("[class*='metricswave-event-uuid--']").forEach(e=>{e.addEventListener("click",e=>{var e=e.currentTarget.className,t=e.match(/metricswave-event-uuid--([a-zA-Z0-9\-]+)/)[1],e=(e.match(/metricswave-event-param-([a-z0-9\-]+)--([a-zA-Z0-9\-\+]+)/g)??[]).reduce((a,r)=>{if(null!==r){let[e,t,,]=r.split("--");return a[e=e.replace("metricswave-event-param-","")]=t.replace("+"," "),a}},{});m(t,e)})})}();